# Item 30

## item.30 문서에 타입 정보를 쓰지 않기

요약

- 주석과 변수명에 타입 정보를 적는 것은 피해야 한다. 타입 선언이 중복되는 것으로 끝나면 다행이지만 최악의 경우는 타입 정보에 모순이 발생하게 된다.
- 타입이 명확하지 않은 경우는 변수명에 단위 정보를 포함하는 것을 고려하는 것이 좋다. (예를 들어 `timeMs` 또는 `temperatureC`)

---

다음 코드에서 잘못된 부분을 찾아보자.

```jsx
/**
* 전경색(foreground) 문자열을 반환한다.
* 0개 또는 1개의 매개변수를 받는다.
* 매개변수가 있을 때는 특정 페이지의 전경색을 반환한다.
*/
function getForegroundColor(page?: string) {
	return apge === 'login' ? {r: 127, g: 127, b: 127} : {r: 0, g: 0, b:0};
}
```

코드와 주석의 정보가 맞지 않는다. 둘 중 어느 것이 옳은지 판단하기에는 정보가 부족하며, 잘못된 상태라는 것만은 분명하다.

앞의 예제에서 의도된 동작이 코드에 제대로 반영되고 있다고 가정하면, 주석에는 세 가지 문제점이 있다.

- 함수가 `string` 형태의 색깔을 반환한다고 적혀 있지만 실제로는 `{r, g, b}` 객체를 반환한다.
- 주석에는 함수가 0개 또는 1개의 매개변수를 받는다고 설명하고 있지만, 타입 시그니처만 보아도 명확하게 알 수 있는 정보이다.
- 불필요하게 장황하다. 함수 선언과 구현체보다 주석이 더 길다.

타입스크립트의 타입 구문 시스템은 간결하고, 구체적이며, 쉽게 읽을 수 있도록 설계되었다. 타입 시스템 개발자들은 수십 년의 경험을 가진 언어 전문가이다. 함수의 입력과 출력의 타입을 코드로 표현하는 것이 주석보다 더 나은 방법이라는 것은 자명하다.

그리고 타입 구문은 타입스크립트 컴파일러가 체크해주기 때문에, 절대로 구현체와의 정합성이 어긋나지 않는다. 코드를 살펴보면 `getForegroundColor` 함수는 과거에 문자열을 반환했지만 추후에 객체를 반환하도록 바뀌었고, 코드를 변경한 사람이 주석 갱신하는 것을 깜빡한 것으로 보인다.

누군가 강제하지 않는 이상 **주석은 코드와 동기화되지 않는다. ****그러나 ******타입 구문은 타잆스크립트 타입 체커가 타입 정보를 동기화하도록 강제한다. 주석 대신 타입 정보를 작성한다면 코드가 변경된다 하더라도 정보가 정확히 동기화된다.

주석을 아래와 같이 개선할 수 있다.

```jsx
/** 애플리케이션 또는 특정 페이지의 전경색을 가져옵니다. */
function getForegroundColor(page?: string): Color {
	// ...
}
```

특정 매개변수를 설명하고 싶다면 `JSDoc` 의 `@param` 구문을 사용하면 된다.

값을 변경하지 않는다고 설명하는 주석도 좋지 않다. 또한 매개변수를 변경하지 않는다는 주석도 사용하지 않는 것이 좋다.

```jsx
/** nums를 변경하지 않는다. */
function sort(nums: number[]) { /* ... */ }
```

그 대신, **`readonly` 로 선언하여 타입스크립트가 규칙을 강제할 수 있게 하면 된다.**

```jsx
function sort(nums: readonly number[]) { /* ... */ }
```

주석에 적용한 규칙은 변수명에도 그대로 적용할 수 있다. 변수명에 타입 정보를 넣지 않도록 해야한다. 예를 들어 변수명을 `ageNum` 으로 하는 것보다는 `age` 로 하고, 그 타입이 `number` 임을 명시하는 게 좋다.

그러나 단위가 있는 숫자들은 예외이다. 단위가 무엇인지 확실하지 않다면 변수명 또는 속성 이름에 단위를 포함할 수 있다. 예를 들어 `timeMs` 는 `time` 보다 훨씬 명확하고 `temperatureC` 는 `temperature` 보다 훨씬 명확하다.
